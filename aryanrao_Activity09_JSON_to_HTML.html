<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Read JSON file just using HTML</title>
  </head>
  <body>
    <body>

            
    <p>
        Author: Aryan Rao <br>
        ISU Netid : aryanrao@iastate.edu <br>
        Date : Feb 20th, 2023
    </p>

        <div id="myData">
        <div id="myProduct"></div>
        </div>

    <script type="text/javascript">

        // We first get the data and handle the potential error
      fetch("data.json")
        .then(function (response) {
          return response.json();
        })
        .then(function (data) {
          appendData(data);
        })
        .catch(function (err) {
          console.log("error:" + err);
        });



        // We append our data to the divs and create elements
      function appendData(data) {
        let mainContainer = document.getElementById("myData");
        for (let productName in data) {
          let div = document.createElement("div");
          div.innerHTML = `<br> <br> <h2> ${productName} </h2>`;
          mainContainer.appendChild(div);

          let mainContainer2 = document.getElementById("myProduct");
            for (let element of data[productName]) {
                console.log(element);
                let div2 = document.createElement("div");
                 div2.innerHTML = `${element["productId"]} : ${element["shortDescription"]} <br>`;
             mainContainer.appendChild(div2);
            }
        } // end of for
      } // end of function appendData
    </script>
  </body>
</html>